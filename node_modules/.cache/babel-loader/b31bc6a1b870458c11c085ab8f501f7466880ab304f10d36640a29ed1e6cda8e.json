{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport { getPermissionByUserId } from '@/api/permissionApi'; // 引入获取菜单权限 api 接口\n\nvar naviBar = {\n  state: {\n    menu: JSON.parse(localStorage.getItem('menuArr')) ? JSON.parse(localStorage.getItem('menu')) : []\n  },\n  getters: {\n    menu: function menu(state) {\n      var menu = state.menu;\n      if (!menu) {\n        menu = JSON.parse(localStorage.getItem(\"menu\"));\n      }\n      return menu;\n    }\n  },\n  mutations: {\n    setMenu: function setMenu(state, menu) {\n      state.menu = menu;\n      localStorage.setItem(\"menu\", menu);\n    }\n  },\n  actions: {\n    // 获取菜单权限列表\n    GetPermissionByUserId: function GetPermissionByUserId(_ref, userId) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        //封装一个 Promise\n        getPermissionByUserId(userId).then(function (response) {\n          //使用 permission 接口进行网络请求\n          var menu = JSON.stringify(response.data.data);\n          commit(\"setMenu\", menu);\n          resolve(response); //将结果封装进 Promise\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  }\n};\nexport default naviBar;","map":{"version":3,"names":["getPermissionByUserId","naviBar","state","menu","JSON","parse","localStorage","getItem","getters","mutations","setMenu","setItem","actions","GetPermissionByUserId","userId","commit","Promise","resolve","reject","then","response","stringify","data","catch","error"],"sources":["D:/program/LanqiaoVue/vue-demo/src/store/modules/permission.js"],"sourcesContent":["import {getPermissionByUserId} from '@/api/permissionApi' // 引入获取菜单权限 api 接口\r\n\r\nconst naviBar = {\r\n    state: {\r\n        menu: JSON.parse(localStorage.getItem('menuArr')) ? JSON.parse(localStorage.getItem('menu')) : []\r\n    },\r\n    getters: {\r\n        menu: state => {\r\n            let menu = state.menu;\r\n            if(!menu){\r\n                menu = JSON.parse(localStorage.getItem(\"menu\"))\r\n            }\r\n            return menu;\r\n        },\r\n    },\r\n    mutations: {\r\n        setMenu(state, menu) {\r\n            state.menu = menu\r\n            localStorage.setItem(\"menu\",menu)\r\n        },\r\n    },\r\n    actions: {\r\n      // 获取菜单权限列表\r\n      GetPermissionByUserId({commit},userId){\r\n        return new Promise((resolve, reject) => { //封装一个 Promise\r\n          getPermissionByUserId(userId).then(response => { //使用 permission 接口进行网络请求\r\n            let menu=JSON.stringify(response.data.data)\r\n            commit(\"setMenu\",menu)\r\n            resolve(response) //将结果封装进 Promise\r\n          }).catch(error => {\r\n            reject(error)\r\n          })\r\n        })\r\n      },\r\n    }\r\n}  \r\n\r\nexport default naviBar"],"mappings":";;AAAA,SAAQA,qBAAqB,QAAO,qBAAqB,EAAC;;AAE1D,IAAMC,OAAO,GAAG;EACZC,KAAK,EAAE;IACHC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAGH,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG;EACnG,CAAC;EACDC,OAAO,EAAE;IACLL,IAAI,EAAE,cAAAD,KAAK,EAAI;MACX,IAAIC,IAAI,GAAGD,KAAK,CAACC,IAAI;MACrB,IAAG,CAACA,IAAI,EAAC;QACLA,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;MACnD;MACA,OAAOJ,IAAI;IACf;EACJ,CAAC;EACDM,SAAS,EAAE;IACPC,OAAO,mBAACR,KAAK,EAAEC,IAAI,EAAE;MACjBD,KAAK,CAACC,IAAI,GAAGA,IAAI;MACjBG,YAAY,CAACK,OAAO,CAAC,MAAM,EAACR,IAAI,CAAC;IACrC;EACJ,CAAC;EACDS,OAAO,EAAE;IACP;IACAC,qBAAqB,uCAAUC,MAAM,EAAC;MAAA,IAAfC,MAAM,QAANA,MAAM;MAC3B,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QAAE;QACxClB,qBAAqB,CAACc,MAAM,CAAC,CAACK,IAAI,CAAC,UAAAC,QAAQ,EAAI;UAAE;UAC/C,IAAIjB,IAAI,GAACC,IAAI,CAACiB,SAAS,CAACD,QAAQ,CAACE,IAAI,CAACA,IAAI,CAAC;UAC3CP,MAAM,CAAC,SAAS,EAACZ,IAAI,CAAC;UACtBc,OAAO,CAACG,QAAQ,CAAC,EAAC;QACpB,CAAC,CAAC,CAACG,KAAK,CAAC,UAAAC,KAAK,EAAI;UAChBN,MAAM,CAACM,KAAK,CAAC;QACf,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACJ,CAAC;AAED,eAAevB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}