{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport { getPermissionByUserId } from '@/api/permissionApi'; // 引入获取菜单权限 api 接口\n\nvar naviBar = {\n  state: {\n    menu: JSON.parse(localStorage.getItem('menuArr')) ? JSON.parse(localStorage.getItem('menu')) : []\n  },\n  getters: {\n    userId: function userId(state) {\n      var userId = state.userId;\n      if (!userId) {\n        userId = JSON.parse(localStorage.getItem(\"userId\"));\n      }\n      return userId;\n    }\n  },\n  mutations: {\n    setMenu: function setMenu(state, payload) {\n      state.menu = payload;\n    }\n  },\n  actions: {\n    // 获取菜单权限列表\n    GetPermissionByUserId: function GetPermissionByUserId(_ref, userId) {\n      var commit = _ref.commit;\n      return new Promise(function (resolve, reject) {\n        //封装一个 Promise\n        getPermissionByUserId(userId).then(function (response) {\n          //使用 permission 接口进行网络请求\n          resolve(response); //将结果封装进 Promise\n        }).catch(function (error) {\n          reject(error);\n        });\n      });\n    }\n  }\n};\nexport default naviBar;","map":{"version":3,"names":["getPermissionByUserId","naviBar","state","menu","JSON","parse","localStorage","getItem","getters","userId","mutations","setMenu","payload","actions","GetPermissionByUserId","commit","Promise","resolve","reject","then","response","catch","error"],"sources":["D:/program/LanqiaoVue/vue-demo/src/store/modules/permission.js"],"sourcesContent":["import {getPermissionByUserId} from '@/api/permissionApi' // 引入获取菜单权限 api 接口\r\n\r\nconst naviBar = {\r\n    state: {\r\n        menu: JSON.parse(localStorage.getItem('menuArr')) ? JSON.parse(localStorage.getItem('menu')) : []\r\n    },\r\n    getters: {\r\n        userId: state => {\r\n            let userId = state.userId;\r\n            if(!userId){\r\n                userId = JSON.parse(localStorage.getItem(\"userId\"))\r\n            }\r\n            return userId;\r\n        },\r\n    },\r\n    mutations: {\r\n        setMenu(state, payload) {\r\n            state.menu = payload\r\n        },\r\n    },\r\n    actions: {\r\n      // 获取菜单权限列表\r\n      GetPermissionByUserId({commit},userId){\r\n        return new Promise((resolve, reject) => { //封装一个 Promise\r\n          getPermissionByUserId(userId).then(response => { //使用 permission 接口进行网络请求\r\n            resolve(response) //将结果封装进 Promise\r\n          }).catch(error => {\r\n            reject(error)\r\n          })\r\n        })\r\n      },\r\n    }\r\n}  \r\n\r\nexport default naviBar"],"mappings":";AAAA,SAAQA,qBAAqB,QAAO,qBAAqB,EAAC;;AAE1D,IAAMC,OAAO,GAAG;EACZC,KAAK,EAAE;IACHC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAGH,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG;EACnG,CAAC;EACDC,OAAO,EAAE;IACLC,MAAM,EAAE,gBAAAP,KAAK,EAAI;MACb,IAAIO,MAAM,GAAGP,KAAK,CAACO,MAAM;MACzB,IAAG,CAACA,MAAM,EAAC;QACPA,MAAM,GAAGL,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAAC;MACvD;MACA,OAAOE,MAAM;IACjB;EACJ,CAAC;EACDC,SAAS,EAAE;IACPC,OAAO,mBAACT,KAAK,EAAEU,OAAO,EAAE;MACpBV,KAAK,CAACC,IAAI,GAAGS,OAAO;IACxB;EACJ,CAAC;EACDC,OAAO,EAAE;IACP;IACAC,qBAAqB,uCAAUL,MAAM,EAAC;MAAA,IAAfM,MAAM,QAANA,MAAM;MAC3B,OAAO,IAAIC,OAAO,CAAC,UAACC,OAAO,EAAEC,MAAM,EAAK;QAAE;QACxClB,qBAAqB,CAACS,MAAM,CAAC,CAACU,IAAI,CAAC,UAAAC,QAAQ,EAAI;UAAE;UAC/CH,OAAO,CAACG,QAAQ,CAAC,EAAC;QACpB,CAAC,CAAC,CAACC,KAAK,CAAC,UAAAC,KAAK,EAAI;UAChBJ,MAAM,CAACI,KAAK,CAAC;QACf,CAAC,CAAC;MACJ,CAAC,CAAC;IACJ;EACF;AACJ,CAAC;AAED,eAAerB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}